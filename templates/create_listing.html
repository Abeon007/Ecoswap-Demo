{% extends "base.html" %}

{% block title %}{{ t('dashboard.createNewListing') }} - {{ t('common.appName') }}{% endblock %}

{% block content %}
<section class="form-section">
    <div class="container-small">
        <div class="page-header">
            <h1>{{ t('dashboard.createNewListing') }}</h1>
            <p>{{ t('dashboard.shareDescription') }}</p>
        </div>

        <form method="POST" action="{{ url_for('create_listing') }}" enctype="multipart/form-data" class="listing-form">
            <div class="form-group">
                <label for="title">{{ t('dashboard.titleLabel') }}</label>
                <input type="text" id="title" name="title" placeholder="{{ t('dashboard.titlePlaceholder') }}" required>
            </div>

            <div class="form-group">
                <label for="description">{{ t('dashboard.descriptionLabel') }}</label>
                <textarea id="description" name="description" rows="5"
                    placeholder="{{ t('dashboard.descriptionPlaceholder') }}" required></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="category">{{ t('dashboard.categoryLabel') }}</label>
                    <select id="category" name="category" required>
                        <option value="">{{ t('dashboard.selectCategory') }}</option>
                        {% for cat in ["Furniture", "Electronics", "Books", "Clothing", "Sports", "Home & Garden",
                        "Other"] %}
                        <option value="{{ cat }}">{{ t('marketplace.categories.' + cat) }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="condition">{{ t('dashboard.conditionLabel') }}</label>
                    <select id="condition" name="condition" required>
                        <option value="">{{ t('dashboard.selectCondition') }}</option>
                        {% for cond in ["New", "Like New", "Good", "Fair"] %}
                        <option value="{{ cond }}">{{ t('status.' + cond) }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="listing_type">{{ t('dashboard.listingTypeLabel') }}</label>
                <select id="listing_type" name="listing_type" required>
                    <option value="">{{ t('dashboard.selectType') }}</option>
                    <option value="Exchange">{{ t('dashboard.exchangeLong') }}</option>
                    <option value="Donate">{{ t('dashboard.donateLong') }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="image">{{ t('dashboard.imageLabel') }}</label>
                <input type="file" id="image" name="image" accept="image/*">
                <small>{{ t('dashboard.maxSize') }}</small>
            </div>

            <div class="form-actions">
                <a href="{{ url_for('my_listings') }}" class="btn-secondary">{{ t('dashboard.cancel') }}</a>
                <button type="submit" class="btn-primary">{{ t('dashboard.addItemButton') }}</button>
            </div>
        </form>
    </div>
</section>
{% endblock %}